{% extends "core/faculty/sidebar.html" %}

{% block header %}
<!--  Google Charts  -->
<script src="..\..\..\static\js\loader.js"></script>
<script>
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Status', 'Count', { role: 'style' }],
            ['Present', 10, 'green'],
            ['Late', 5, 'orange'],
            ['Absent', 3, 'red'],
        ]);

        var options = {
            title: ' ',
        };

        var chart = new google.visualization.PieChart(document.getElementById('google-pie-chart'));

        chart.draw(data, options);
    }

    function downloadAction(row) {
        // Implement download action logic here
        // You can show a download dialog or perform a download operation.
        alert('Downloading: Subject ' + row.cells[0].textContent + ', Section ' + row.cells[1].textContent + ', Semester ' + row.cells[2].textContent);
    }

    function deleteAction(row) {
        // Implement delete action logic here
        // You can show a confirmation dialog and delete the selected row.
        if (confirm('Are you sure you want to delete this record?\nSubject: ' + row.cells[0].textContent + '\nSection: ' + row.cells[1].textContent + '\nSemester: ' + row.cells[2].textContent)) {
            row.remove();
        }
    }
</script>
{% endblock %}


{% block body %}

<h1 class="h3 mb-4"><strong> Dashboard</strong></h1>

<div class="row">
    <div class="col-auto">
        <select class="form-select form-select-sm" style="width: 120px; height: 35px;">
            <option selected>School Year</option>
            <option value="1">2023</option>
            <option value="2">2024</option>
            <option value="3">2025</option>
        </select>
    </div>
    <div class="col-auto" style="margin-right: 60px;">
        <select class="form-select form-select-sm" style="width: 120px; height: 35px;">
            <option selected>Semester</option>
            <option value="1">First Sem</option>
            <option value="2">Second Sem</option>
        </select>
    </div>
</div>
<!-- Google Pie Chart container -->
<div id="google-pie-chart" style="width: 30%; height: 300px;"></div>

<!-- ADD: START/STOP ATTENDANCE BUTTON W/FEATURES 1) CUSTOM TIMER FOR LATE/ABSENT 2) SUBJECT LIST DROPDOWN (TAKEN FROM CLASSLIST) -->

<!--Table-->
<table class="table datatables table-bordered table-condensed table-striped p-0 m-0 dataTable no-footer dtr-inline" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info" style="width: 100%; height: 40%;">
  <thead>
      <tr role="row">
          <th class="sorting_disabled" rowspan="1" colspan="1" style="color: #800000;">Subject</th>
          <th class="sorting_disabled" rowspan="1" colspan="1" style="color: #800000;">Section</th>
          <th class="sorting_disabled" rowspan="1" colspan="1" style="color: #800000;">Semester</th>
          <th class="sorting_disabled" rowspan="1" colspan="1" style="color: #800000;">Actions</th>
      </tr>
  </thead>
  <tbody>
    <tr role="row" class="odd">
        <td tabindex="0">Subject 1</td>
        <td>Section A</td>
        <td>Sem</td>
        <td>
            <button class="btn btn-primary btn-sm" onclick="downloadAction()">Download</button>
            <button class="btn btn-danger btn-sm" onclick="deleteAction()">Delete</button>
        </td>
    </tr>
    <tr role="row" class="even">
        <td tabindex="0">Subject 2</td>
        <td>Section B</td>
        <td>sem</td>
        <td>
            <button class="btn btn-primary btn-sm" onclick="downloadAction()">Download</button>
            <button class="btn btn-danger btn-sm" onclick="deleteAction()">Delete</button>
        </td>
    </tr>
    <tr role="row" class="even">
      <td tabindex="0">Subject 2</td>
      <td>Section B</td>
      <td>sem</td>
      <td>
          <button class="btn btn-primary btn-sm" onclick="downloadAction()">Download</button>
          <button class="btn btn-danger btn-sm" onclick="deleteAction()">Delete</button>
      </td>
    </tr>
  </tbody>
</table>

{% endblock %}